<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>JJ Horton - Datasets</title>
        <link rel="stylesheet" href="https://www.jjhorton.co.uk/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="http://github.com/jjhorton/">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="https://www.jjhorton.co.uk/">JJ Horton </a></h1>
                <nav><ul>
                    <li><a href="/pages/about.html">About</a></li>
                    <li><a href="/archives.html">Posts</a></li>
                    <li><a href="http://linkedin.com/in/jjhorton">CV</a></li>
                </ul>
                </nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://www.jjhorton.co.uk/inspectrum-with-sigmf-files.html">Inspectrum with SigMF Files</a></h1>
<footer class="post-info">
        <span>Thu 24 June 2021</span>
<span>| tags: <a href="https://www.jjhorton.co.uk/tag/sigmf.html">SigMF</a><a href="https://www.jjhorton.co.uk/tag/inspectrum.html">Inspectrum</a><a href="https://www.jjhorton.co.uk/tag/rf-data.html">RF Data</a><a href="https://www.jjhorton.co.uk/tag/datasets.html">Datasets</a><a href="https://www.jjhorton.co.uk/tag/sdr.html">SDR</a></span>
</footer><!-- /.post-info --><p>This post is as much a note to myself, for the next time that I hit this issue, which is installing <a href="https://github.com/miek/inspectrum">Inspectrum</a> with SigMF support.</p>
<p>The tool I'm installing is <a href="https://github.com/miek/inspectrum">Inspectrum</a> which is for analysing captured files of sampled data, primarily from Software Defined Radios. This allows for looking at signals, and analysing what is in the capture. I was looking to use this tool with some <a href="https://github.com/gnuradio/SigMF">SigMF</a> files, the Signal Meta data files are made up of a Binary File containing the sample data, and a JSON companion file, which contains details about the capture. This file with details about the capture can also include annotations, which is what I am interested in today. The SigMF Repository contains all the details on what the standard supports: <a href="https://github.com/gnuradio/SigMF">github.com/gnuradio/SigMF</a></p>
<p>The Github repo for <a href="https://github.com/miek/inspectrum">Inspectrum</a> includes details on how to get it built, which is a simple case of running a few commands on my Ubuntu PC:</p>
<div class="highlight"><pre><span></span>sudo apt-get install qtbase5-dev libfftw3-dev cmake pkg-config libliquid-dev
sudo apt-get install build-essential git
git clone https://github.com/miek/inspectrum.git
cd inspectrum/
mkdir build
cd build/
cmake ..
make
sudo make install
</pre></div>

<p>The cmake command behaves as expected but it does not find <code>libsigmf</code> which is probably expected as I haven't installed it as part of installing the dependancies in the first two commands:</p>
<div class="highlight"><pre><span></span>-- The CXX compiler identification is GNU 9.3.0
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found PkgConfig: /usr/bin/pkg-config (found version &quot;0.29.1&quot;)
-- Found FFTW: /usr/lib/x86_64-linux-gnu/libfftw3f.so  
-- Found LIQUID: /usr/lib/x86_64-linux-gnu/libliquid.so  
-- libsigmf not found. Disabling SigMF support
-- Configuring done
-- Generating done
</pre></div>

<p>This means that I won't be able to open sigmf files in <a href="https://github.com/miek/inspectrum">Inspectrum</a>, as <a href="https://github.com/miek/inspectrum">Inspectrum</a> will now throw an error even when you attempt to open just the binary <code>.sigmf-data</code> files, in the newer versions.</p>
<p><img src="images/Inspectrum_SigMF_Error.png" ><div></p>
<p>The issue I found next was that there were no clear instructions on how to install this <a href="https://github.com/deepsig/libsigmf">libsigmf</a> within its git repository, this seemed to be some assumed knowledge which I was clearly lacking. After a hunt around the repo, and looking though the github workflow files it was possible to work out the steps I seemed, by building and installing the <a href="https://github.com/deepsig/libsigmf">libsigmf</a> examples, which seemed to get the missing <a href="https://github.com/deepsig/libsigmf">libsigmf</a> library installed:</p>
<div class="highlight"><pre><span></span>git clone https://github.com/deepsig/libsigmf.git
cd libsigmf
cmake -B build
cmake --build build
sudo -H cmake --install build
</pre></div>

<p>The one step I then discovered I had missed is that I also need to install the dependancies for the <a href="https://github.com/deepsig/libsigmf">libsigmf</a> package on my Ubuntu PC, thankfully these are just available using apt on Ubuntu 20 LTS.</p>
<div class="highlight"><pre><span></span>sudo apt install libflatbuffers-dev nlohmann-json3-dev
</pre></div>

<p>Now we are able to remove the build folder from the <a href="https://github.com/miek/inspectrum">Inspectrum</a> repositry we created earlier, and have a go at building again. Now we get a Much better looking message from the cmake command including <code>Enabling SigMF support</code>.</p>
<div class="highlight"><pre><span></span>-- The CXX compiler identification is GNU 9.3.0
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found PkgConfig: /usr/bin/pkg-config (found version &quot;0.29.1&quot;)
-- Found FFTW: /usr/lib/x86_64-linux-gnu/libfftw3f.so  
-- Found LIQUID: /usr/lib/x86_64-linux-gnu/libliquid.so  
-- libsigmf found. Enabling SigMF support
-- Configuring done
-- Generating done
</pre></div>

<p>From here is just a case of completing the build, running <code>instpectrum</code> and opening up a sigmf file.</p>
<p><img src="images/Inspectrum_WithAnnotations.png" ><div></p>
<p>This means that I can now have a good look at some of the data files complete with the annotations that I have downloaded and wanted to explore. The files I am taking a look at are downloaded from <a href="https://deepsig.ai">DeepSig</a> for a competition being run at <a href="https://www.spawc2021.com/data-competition/">IEEE International Workshop on Signal Processing Advances in Wireless Communications</a>, with this synthetic dataset of over 100Gb of RF data making up the <a href="https://eval.ai/web/challenges/challenge-page/1057/overview">Wideband Signal Recognition challenge</a>. The dataset is currently available for anyone to download if they follow the challenge links and provide an email address, although it may take a while to download given its size. Now I've seen the data it is tempting to have a go and see what I can do, having played around with Modulation Recognition using machine Learning in the past it looks like a tempting challenge to have a go at, although it looks like a big challenge and I'm not sure how far I would get as a one man band over just a couple of months.</p>                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="http://github.com/jjhorton">Github</a></li>
                            <li><a href="http://twitter.com/jamesjhorton">Twitter</a></li>
                            <li><a href="http://linkedin.com/in/jjhorton">LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-59185025-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>